(()=>{"use strict";!function(){const e=function(e){const t=e.dataset.errorMessage||"",s={session:e.querySelector(".wsu-cost-tables__filter--session .wsu-cost-tables__filter-select"),campus:e.querySelector(".wsu-cost-tables__filter--campus .wsu-cost-tables__filter-select"),careerPath:e.querySelector(".wsu-cost-tables__filter--career-path .wsu-cost-tables__filter-select")},a=e.querySelector(".wsu-cost-tables__table-container");let o,n=new AbortController;async function r(s){a.innerHTML="",e.classList.add("is-loading");const r=o.find((e=>e.session===s.session.value&&e.campus===s.campus.value&&e.careerPath===s.careerPath.value));a.innerHTML=await async function(e){n?.abort(),n=new AbortController;let s="";if(e){const t=e.tableId,a=await fetch(WSUWP_DATA.siteUrl+"/wp-json/wsu-cost-tables/v1/render-table?tableId="+t.replace("table-",""),{signal:n.signal});a.ok&&(s=await a.json())}return""===s?`<p class="wsu-cost-tables__error">${t}</p>`:s}(r),e.classList.remove("is-loading")}!async function(e){o=await async function(){const e=await fetch(WSUWP_DATA.siteUrl+"/wp-json/wsu-cost-tables/v1/get-table-taxonomies");if(e.ok)return t=await e.json(),Object.keys(t).map((e=>({tableId:e,...t[e]})));var t;throw new Error("Failed to get taxonomy information for tables.")}(),Object.values(s).forEach((function(e){e.addEventListener("change",(function(e){r(s)}))}))}()};document.querySelectorAll(".wsu-cost-tables").forEach((t=>{new e(t)}))}()})();